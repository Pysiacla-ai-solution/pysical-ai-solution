<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>GPU ìŠ¤ì¼€ì¤„ëŸ¬ - SLURM Style</title>
  <link rel="stylesheet" href="/static/gpu.css" />
  <style>
    /* í ì‹œìŠ¤í…œì— ë§ëŠ” ì¶”ê°€ ìŠ¤íƒ€ì¼ */
    .metric-card {
      background: #f8f9fa;
      border: 1px solid #dee2e6;
      border-radius: 6px;
      padding: 10px;
      margin-bottom: 15px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .status-badge {
      padding: 4px 8px;
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: bold;
    }
    .status-running { background: #e6fcf5; color: #0ca678; }
    .status-queued { background: #fff9db; color: #f59f00; }
    .status-completed { background: #f1f3f5; color: #868e96; }
    .status-failed { background: #fff5f5; color: #fa5252; }
    
    .prio-score { font-family: monospace; font-weight: bold; color: #495057; }
  </style>
</head>
<body>
  <div class="page">
    <header class="header">
      <div class="logo">ğŸš€ GPU Job Scheduler</div>
      <nav class="nav">
        <a href="#" class="nav-item">HOME</a>
        <a href="#" class="nav-item active">GPU Queue</a>
        <a href="/docs" class="nav-item">API Docs</a>
      </nav>
    </header>

    <main class="content">
      <section class="panel panel-left">
        <h2>ğŸ ì‘ì—… ë“±ë¡í•˜ê¸° </h2>
        <form id="jobForm">
          
          <div class="field">
            <label>íŒŒì´ì¬ ìŠ¤í¬ë¦½íŠ¸ (*.py)</label>
            <input type="file" id="fileInput" accept=".py" required />
          </div>

          <div class="field">
            <label>ì‚¬ìš©ìì ID</label>
            <input type="text" id="userId" placeholder="ì˜ˆ: intern_01, lead_dev" required />
            <p class="hint"> ! ë™ì¼ IDë¡œ ë§ì´ ë“±ë¡ë¡í• ìˆ˜ë¡ ìš°ì„ ìˆœìœ„ê°€ ë‚®ì•„ì§‘ë‹ˆë‹¤ !</p>
          </div>

          <div class="field">
            <label>í•„ìš” VRAM (GB)</label>
            <input type="number" id="vramInput" value="2" min="1" max="80" />
          </div>

          <div class="field">
            <label>êµ¬ë¶„ (Partition)</label>
            <select id="partitionSelect">
              <option value="normal" selected>Normal (ê¸°ë³¸)</option>
              <option value="debug">Debug (ë†’ì€ ìš°ì„ ìˆœìœ„, ê¸´ê¸‰)</option>
              <option value="batch">Batch (ë‚®ì€ ìš°ì„ ìˆœìœ„, ëŒ€ëŸ‰)</option>
            </select>
          </div>

          <div class="field">
            <label>ì„œë¹„ìŠ¤ ë“±ê¸‰ (QOS)</label>
            <select id="qosSelect">
              <option value="standard" selected>Standard (í‘œì¤€)</option>
              <option value="premium">Premium (ê°€ì  ë¶€ì—¬)</option>
              <option value="admin">Admin (ê´€ë¦¬ì ì „ìš©)</option>
              <option value="guest">Guest (ìµœí•˜ìœ„)</option>
            </select>
          </div>

          <button type="submit" id="submitBtn" class="primary-btn">ì‘ì—… íì— ë“±ë¡í•˜ê¸°</button>
        </form>
        <div id="submitResult" style="margin-top: 10px; font-size: 0.9rem;"></div>
      </section>

      <section class="panel panel-right">
        
        <div class="panel-header">
          <h2>ğŸ“Š GPU ìƒíƒœ</h2>
          <button id="refreshBtn" class="ghost-btn">ìƒˆë¡œê³ ì¹¨</button>
        </div>
        <div id="gpuMetricsArea">
          <div class="metric-card">ë¡œë”© ì¤‘...</div>
        </div>

        <hr style="border: 0; border-top: 1px solid #eee; margin: 20px 0;">

        <div class="panel-header">
          <h2>ğŸ“‹ ì‘ì—… ëŒ€ê¸°ì—´ (Job Queue)</h2>
        </div>
        <table class="table" id="jobsTable">
          <thead>
            <tr>
              <th width="10%">ìƒíƒœ</th>
              <th width="15%">ì ìˆ˜(Priority)</th>
              <th>User</th>
              <th>Partition</th>
              <th>VRAM</th>
              <th>Job ID</th>
            </tr>
          </thead>
          <tbody id="jobsTableBody">
            </tbody>
        </table>
      </section>
    </main>
  </div>

  <script src="/static/gpu.js"></script>
</body>
</html>